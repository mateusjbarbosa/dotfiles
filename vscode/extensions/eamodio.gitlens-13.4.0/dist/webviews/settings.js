var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};void 0!==t&&Object.defineProperty(t,"p",{get:function(){try{if("string"!=typeof webpackResourceBasePath)throw new Error("WebpackRequireFrom: 'webpackResourceBasePath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return webpackResourceBasePath}catch(t){return"#{root}/dist/webviews/"}},set:function(t){}});var e={};t.d(e,{P:()=>Zt});class n{constructor(t,e=!1){this.method=t,this.overwriteable=e}}class i extends n{}class r extends n{}function o(t,e,n){t.method===e.method&&n(e.params,t)}const s=new i("webview/ready"),a=new i("webview/focus"),l=(new i("command/execute"),new i("configuration/preview")),c=new i("configuration/update"),u=new r("configuration/didChange"),d=new r("configuration/didPreview"),h=new r("webview/didOpenAnchor");const g=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const p="object"==typeof global&&global&&global.Object===Object&&global;var f="object"==typeof self&&self&&self.Object===Object&&self;const m=p||f||Function("return this")();const b=function(){return m.Date.now()};var v=/\s/;const y=function(t){for(var e=t.length;e--&&v.test(t.charAt(e)););return e};var w=/^\s+/;const k=function(t){return t?t.slice(0,y(t)+1).replace(w,""):t};const _=m.Symbol;var S=Object.prototype,P=S.hasOwnProperty,$=S.toString,C=_?_.toStringTag:void 0;const x=function(t){var e=P.call(t,C),n=t[C];try{t[C]=void 0;var i=!0}catch(t){}var r=$.call(t);return i&&(e?t[C]=n:delete t[C]),r};var D=Object.prototype.toString;const L=function(t){return D.call(t)};var A="[object Null]",M="[object Undefined]",T=_?_.toStringTag:void 0;const B=function(t){return null==t?void 0===t?M:A:T&&T in Object(t)?x(t):L(t)};const V=function(t){return null!=t&&"object"==typeof t};var I="[object Symbol]";const O=function(t){return"symbol"==typeof t||V(t)&&B(t)==I};var E=NaN,q=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,R=/^0o[0-7]+$/i,U=parseInt;const F=function(t){if("number"==typeof t)return t;if(O(t))return E;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=k(t);var n=j.test(t);return n||R.test(t)?U(t.slice(2),n?2:8):q.test(t)?E:+t};var H="Expected a function",z=Math.max,N=Math.min;const W=function(t,e,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError(H);function p(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function f(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=o}function m(){var t=b();if(f(t))return v(t);a=setTimeout(m,function(t){var n=e-(t-l);return d?N(n,o-(t-c)):n}(t))}function v(t){return a=void 0,h&&i?p(t):(i=r=void 0,s)}function y(){var t=b(),n=f(t);if(i=arguments,r=this,l=t,n){if(void 0===a)return function(t){return c=t,a=setTimeout(m,e),u?p(t):s}(l);if(d)return clearTimeout(a),a=setTimeout(m,e),p(l)}return void 0===a&&(a=setTimeout(m,e)),s}return e=F(e)||0,g(n)&&(u=!!n.leading,o=(d="maxWait"in n)?z(F(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},y.flush=function(){return void 0===a?s:v(b())},y};var Y=(t=>(t.Off="off",t.Error="error",t.Warn="warn",t.Info="info",t.Debug="debug",t))(Y||{});const G="";const J=new class{constructor(){this._isDebugging=!1,this.level=0,this._logLevel=Y.Off}configure(t,e,n=!1){this.provider=t,this._isDebugging=n,this.logLevel=e}enabled(t){return this.level>=Z(t)}get isDebugging(){return this._isDebugging}get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t,this.level=Z(this._logLevel),t===Y.Off?(this.output?.dispose?.(),this.output=void 0):this.output=this.output??this.provider.createChannel(this.provider.name)}get timestamp(){return`[${(new Date).toISOString().replace(/T/," ").slice(0,-1)}]`}debug(t,...e){if(this.level<4&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??G}`)),this.isDebugging,null==this.output||this.level<4||this.output.appendLine(`${this.timestamp} ${n??G}${this.toLoggableParams(!0,e)}`)}error(t,e,...n){if(this.level<1&&!this.isDebugging)return;let i;if(i=null==e||"string"==typeof e?e:`${e.prefix} ${n.shift()??G}`,null==i){const e=t instanceof Error?t.stack:void 0;if(e){const t=/.*\s*?at\s(.+?)\s/.exec(e);null!=t&&(i=t[1])}}this.isDebugging,null==this.output||this.level<1||this.output.appendLine(`${this.timestamp} ${i??G}${this.toLoggableParams(!1,n)}\n${String(t)}`)}log(t,...e){if(this.level<3&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??G}`)),this.isDebugging,null==this.output||this.level<3||this.output.appendLine(`${this.timestamp} ${n??G}${this.toLoggableParams(!1,e)}`)}warn(t,...e){if(this.level<2&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??G}`)),this.isDebugging,null==this.output||this.level<2||this.output.appendLine(`${this.timestamp} ${n??G}${this.toLoggableParams(!1,e)}`)}showOutputChannel(t){this.output?.show?.(t)}toLoggable(t,e){if("object"!=typeof t)return String(t);const n=this.provider.toLoggable?.(t);if(null!=n)return n;try{return JSON.stringify(t,e)}catch{return"<error>"}}toLoggableParams(t,e){if(0===e.length||t&&this.level<4&&!this.isDebugging)return G;const n=e.map((t=>this.toLoggable(t))).join(", ");return 0!==n.length?` â€” ${n}`:G}};function Z(t){switch(t){case Y.Off:return 0;case Y.Error:return 1;case Y.Warn:return 2;case Y.Info:return 3;case Y.Debug:return 4;default:return 0}}var Q,K;(K=Q||(Q={})).on=function(t,e,n,i){let r=!1;if("string"==typeof t){const o=function(e){const i=e?.target?.closest(t);null!=i&&n(e,i)};return document.addEventListener(e,o,i??!0),{dispose:()=>{r||(r=!0,document.removeEventListener(e,o,i??!0))}}}const o=function(t){n(t,this)};return t.addEventListener(e,o,i??!1),{dispose:()=>{r||(r=!0,t.removeEventListener(e,o,i??!1))}}},K.insertTemplate=function(t,e,n){const i=document.getElementById(t);if(e.replaceChildren(i?.content.cloneNode(!0)),e.className=i.className,null!=n?.visible){const t=e.querySelectorAll("[data-visible]");for(const e of t){const t=e.dataset.visible;t&&(n.visible[t]?e.style.display="initial":e.style.display="none")}}if(null!=n?.bindings){const t=e.querySelectorAll("[data-bind]");for(const e of t){const t=e.dataset.bind;if(!t)continue;const i=n.bindings[t];null!=i&&(e.textContent=String(i))}}},K.resetSlot=function(t){t.replaceChildren(),t.className=""};var X=(t=>(t[t.Hash=35]="Hash",t[t.Slash=47]="Slash",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.Backslash=92]="Backslash",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.Z=90]="Z",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.z=122]="z",t))(X||{});function tt(t,e){const n=t+e,i=e<0?n<0?0:n:n>255?255:n;return Math.round(i)}function et(t,e){return nt(t,-e)}function nt(t,e){const n=function(t){const e=mt(t);return null==e?null:[e.rgba.r,e.rgba.g,e.rgba.b,e.rgba.a]}(t);if(null==n)return t;const[i,r,o,s]=n,a=255*e/100;return`rgba(${tt(i,a)}, ${tt(r,a)}, ${tt(o,a)}, ${s})`}function it(t,e){const n=dt.from(t);return null==n?t:n.transparent(e/100).toString()}const rt=1e-7,ot=20;function st(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}class at{constructor(t,e,n,i=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,e)),this.b=0|Math.min(255,Math.max(0,n)),this.a=st(Math.max(Math.min(1,i),0),3)}static equals(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}}class lt{constructor(t,e,n,i){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=st(Math.max(Math.min(1,e),0),3),this.l=st(Math.max(Math.min(1,n),0),3),this.a=st(Math.max(Math.min(1,i),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.l===e.l&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=t.a,o=Math.max(e,n,i),s=Math.min(e,n,i);let a=0,l=0;const c=(s+o)/2,u=o-s;if(u>0){switch(l=Math.min(c<=.5?u/(2*c):u/(2-2*c),1),o){case e:a=(n-i)/u+(n<i?6:0);break;case n:a=(i-e)/u+2;break;case i:a=(e-n)/u+4}a*=60,a=Math.round(a)}return new lt(a,l,c,r)}static _hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}static toRGBA(t){const e=t.h/360,{s:n,l:i,a:r}=t;let o,s,a;if(0===n)o=s=a=i;else{const t=i<.5?i*(1+n):i+n-i*n,r=2*i-t;o=lt._hue2rgb(r,t,e+1/3),s=lt._hue2rgb(r,t,e),a=lt._hue2rgb(r,t,e-1/3)}return new at(Math.round(255*o),Math.round(255*s),Math.round(255*a),r)}}class ct{constructor(t,e,n,i){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=st(Math.max(Math.min(1,e),0),3),this.v=st(Math.max(Math.min(1,n),0),3),this.a=st(Math.max(Math.min(1,i),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.v===e.v&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),o=r-Math.min(e,n,i),s=0===r?0:o/r;let a;return a=0===o?0:r===e?((n-i)/o%6+6)%6:r===n?(i-e)/o+2:(e-n)/o+4,new ct(Math.round(60*a),s,r,t.a)}static toRGBA(t){const{h:e,s:n,v:i,a:r}=t,o=i*n,s=o*(1-Math.abs(e/60%2-1)),a=i-o;let[l,c,u]=[0,0,0];return e<60?(l=o,c=s):e<120?(l=s,c=o):e<180?(c=o,u=s):e<240?(c=s,u=o):e<300?(l=s,u=o):e<=360&&(l=o,u=s),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),u=Math.round(255*(u+a)),new at(l,c,u,r)}}const ut=class{static from(t){return t instanceof ut?t:mt(t)||ut.red}static fromCssVariable(t,e){return mt(e.getPropertyValue(t).trim())||ut.red}static fromHex(t){return bt(t)||ut.red}static equals(t,e){return!t&&!e||!(!t||!e)&&t.equals(e)}get hsla(){return this._hsla?this._hsla:lt.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:ct.fromRGBA(this.rgba)}constructor(t){if(!t)throw new Error("Color needs a value");if(t instanceof at)this.rgba=t;else if(t instanceof lt)this._hsla=t,this.rgba=lt.toRGBA(t);else{if(!(t instanceof ct))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=ct.toRGBA(t)}}equals(t){return null!=t&&(Boolean(t)&&at.equals(this.rgba,t.rgba)&&lt.equals(this.hsla,t.hsla)&&ct.equals(this.hsva,t.hsva))}getRelativeLuminance(){return st(.2126*ut._relativeLuminanceForComponent(this.rgba.r)+.7152*ut._relativeLuminanceForComponent(this.rgba.g)+.0722*ut._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}luminance(t){return function(t,e){if(0===e)return new dt(new at(0,0,0,t.rgba.a));if(1===e)return new dt(new at(255,255,255,t.rgba.a));const n=t.getRelativeLuminance();let i=ot;const r=(t,n)=>{const o=t.mix(n,.5),s=o.getRelativeLuminance();return Math.abs(e-s)<rt||!i--?o:s>e?r(t,o):r(o,n)},o=(n>e?r(dt.black,t):r(t,dt.white)).rgba;return new dt(new at(o.r,o.g,o.b,t.rgba.a))}(this,t)}getContrastRatio(t){const e=this.getRelativeLuminance(),n=t.getRelativeLuminance();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)}isDarker(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(t){return this.getRelativeLuminance()>t.getRelativeLuminance()}isDarkerThan(t){return this.getRelativeLuminance()<t.getRelativeLuminance()}lighten(t){return new ut(new lt(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new ut(new lt(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:e,g:n,b:i,a:r}=this.rgba;return new ut(new at(e,n,i,r*t))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new ut(new at(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(t){const e=t.rgba,n=this.rgba.a,i=e.a,r=n+i*(1-n);if(r<1e-6)return ut.transparent;const o=this.rgba.r*n/r+e.r*i*(1-n)/r,s=this.rgba.g*n/r+e.g*i*(1-n)/r,a=this.rgba.b*n/r+e.b*i*(1-n)/r;return new ut(new at(o,s,a,r))}mix(t,e){return function(t,e,n){const i=t.rgba,r=e.rgba;return new dt(new at(i.r+n*(r.r-i.r),i.g+n*(r.g-i.g),i.b+n*(r.b-i.b),i.a+n*(r.a-i.a)))}(this,t,e)}makeOpaque(t){if(this.isOpaque()||1!==t.rgba.a)return this;const{r:e,g:n,b:i,a:r}=this.rgba;return new ut(new at(t.rgba.r-r*(t.rgba.r-e),t.rgba.g-r*(t.rgba.g-n),t.rgba.b-r*(t.rgba.b-i),1))}flatten(...t){const e=t.reduceRight(((t,e)=>ut._flatten(e,t)));return ut._flatten(this,e)}static _flatten(t,e){const n=1-t.rgba.a;return new ut(new at(n*e.rgba.r+t.rgba.a*t.rgba.r,n*e.rgba.g+t.rgba.a*t.rgba.g,n*e.rgba.b+t.rgba.a*t.rgba.b))}toString(){return this._toString||(this._toString=function(t){if(t.isOpaque())return pt(t);return ht(t)}(this)),this._toString}static getLighterColor(t,e,n){if(t.isLighterThan(e))return t;n=n||.5;const i=t.getRelativeLuminance(),r=e.getRelativeLuminance();return n=n*(r-i)/r,t.lighten(n)}static getDarkerColor(t,e,n){if(t.isDarkerThan(e))return t;n=n||.5;const i=t.getRelativeLuminance();return n=n*(i-e.getRelativeLuminance())/i,t.darken(n)}};let dt=ut;function ht(t){return`rgba(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b}, ${Number(t.rgba.a.toFixed(2))})`}function gt(t){const e=t.toString(16);return 2!==e.length?`0${e}`:e}function pt(t){return`#${gt(t.rgba.r)}${gt(t.rgba.g)}${gt(t.rgba.b)}`}dt.white=new ut(new at(255,255,255,1)),dt.black=new ut(new at(0,0,0,1)),dt.red=new ut(new at(255,0,0,1)),dt.blue=new ut(new at(0,0,255,1)),dt.green=new ut(new at(0,255,0,1)),dt.cyan=new ut(new at(0,255,255,1)),dt.lightgrey=new ut(new at(211,211,211,1)),dt.transparent=new ut(new at(0,0,0,0));const ft=/^((?:rgb|hsl)a?)\((-?\d+%?)[,\s]+(-?\d+%?)[,\s]+(-?\d+%?)[,\s]*(-?[\d.]+%?)?\)$/i;function mt(t){if(0===t.length)return null;if(t.charCodeAt(0)===X.Hash)return bt(t);const e=ft.exec(t);if(null==e)return null;const n=e[1];let i;switch(n){case"rgb":case"hsl":i=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),1];break;case"rgba":case"hsla":i=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),parseFloat(e[5])];break;default:return null}switch(n){case"rgb":case"rgba":return new dt(new at(i[0],i[1],i[2],i[3]));case"hsl":case"hsla":return new dt(new lt(i[0],i[1],i[2],i[3]))}return dt.red}function bt(t){const e=(t=t.trim()).length;if(0===e)return null;if(t.charCodeAt(0)!==X.Hash)return null;if(7===e){const e=16*vt(t.charCodeAt(1))+vt(t.charCodeAt(2)),n=16*vt(t.charCodeAt(3))+vt(t.charCodeAt(4)),i=16*vt(t.charCodeAt(5))+vt(t.charCodeAt(6));return new dt(new at(e,n,i,1))}if(9===e){const e=16*vt(t.charCodeAt(1))+vt(t.charCodeAt(2)),n=16*vt(t.charCodeAt(3))+vt(t.charCodeAt(4)),i=16*vt(t.charCodeAt(5))+vt(t.charCodeAt(6)),r=16*vt(t.charCodeAt(7))+vt(t.charCodeAt(8));return new dt(new at(e,n,i,r/255))}if(4===e){const e=vt(t.charCodeAt(1)),n=vt(t.charCodeAt(2)),i=vt(t.charCodeAt(3));return new dt(new at(16*e+e,16*n+n,16*i+i))}if(5===e){const e=vt(t.charCodeAt(1)),n=vt(t.charCodeAt(2)),i=vt(t.charCodeAt(3)),r=vt(t.charCodeAt(4));return new dt(new at(16*e+e,16*n+n,16*i+i,(16*r+r)/255))}return null}function vt(t){switch(t){case X.Digit0:return 0;case X.Digit1:return 1;case X.Digit2:return 2;case X.Digit3:return 3;case X.Digit4:return 4;case X.Digit5:return 5;case X.Digit6:return 6;case X.Digit7:return 7;case X.Digit8:return 8;case X.Digit9:return 9;case X.a:case X.A:return 10;case X.b:case X.B:return 11;case X.c:case X.C:return 12;case X.d:case X.D:return 13;case X.e:case X.E:return 14;case X.f:case X.F:return 15}return 0}const yt=class{constructor(){this._disposed=!1}get event(){return null==this._event&&(this._event=(t,e,n)=>{null==this.listeners&&(this.listeners=new Pt);const i=this.listeners.push(null==e?t:[t,e]),r={dispose:()=>{r.dispose=yt._noop,this._disposed||i()}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(t){if(null!=this.listeners){null==this._deliveryQueue&&(this._deliveryQueue=new Pt);for(let e=this.listeners.iterator(),n=e.next();!n.done;n=e.next())this._deliveryQueue.push([n.value,t]);for(;this._deliveryQueue.size>0;){const[t,e]=this._deliveryQueue.shift();try{"function"==typeof t?t(e):t[0].call(t[1],e)}catch(t){}}}}dispose(){this.listeners?.clear(),this._deliveryQueue?.clear(),this._disposed=!0}};let wt=yt;wt._noop=function(){};const kt={done:!0,value:void 0},_t=class{constructor(t){this.element=t,this.next=_t.Undefined,this.prev=_t.Undefined}};let St=_t;St.Undefined=new _t(void 0);class Pt{constructor(){this._first=St.Undefined,this._last=St.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===St.Undefined}clear(){this._first=St.Undefined,this._last=St.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,e){const n=new St(t);if(this._first===St.Undefined)this._first=n,this._last=n;else if(e){const t=this._last;this._last=n,n.prev=t,t.next=n}else{const t=this._first;this._first=n,n.next=t,t.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first===St.Undefined)return;const t=this._first.element;return this._remove(this._first),t}pop(){if(this._last===St.Undefined)return;const t=this._last.element;return this._remove(this._last),t}_remove(t){if(t.prev!==St.Undefined&&t.next!==St.Undefined){const e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===St.Undefined&&t.next===St.Undefined?(this._first=St.Undefined,this._last=St.Undefined):t.next===St.Undefined?(this._last=this._last.prev,this._last.next=St.Undefined):t.prev===St.Undefined&&(this._first=this._first.next,this._first.prev=St.Undefined);this._size-=1}iterator(){let t,e=this._first;return{next:function(){return e===St.Undefined?kt:(null==t?t={done:!1,value:e.element}:t.value=e.element,e=e.next,t)}}}toArray(){const t=[];for(let e=this._first;e!==St.Undefined;e=e.next)t.push(e.element);return t}}const $t=new wt,Ct=$t.event;const xt=2**30;let Dt=0;function Lt(){return Dt===xt?Dt=1:Dt++,`webview:${Dt}`}class At{constructor(t){this.appName=t,this.state=window.bootstrap,window.bootstrap=void 0,J.configure({name:t,createChannel:function(t){return{name:t,appendLine:function(t){}}}},Y.Off),this.log("ctor()"),this._api=acquireVsCodeApi();const e=[];null!=this.onThemeUpdated&&e.push(Ct(this.onThemeUpdated,this)),e.push(function(){const t=t=>{const e=document.body,n=window.getComputedStyle(e),i=e.classList.contains("vscode-light")||e.classList.contains("vscode-high-contrast-light"),r=e.classList.contains("vscode-high-contrast")||e.classList.contains("vscode-high-contrast-light"),o=e.style;o.setProperty("--font-family",n.getPropertyValue("--vscode-font-family").trim()),o.setProperty("--font-size",n.getPropertyValue("--vscode-font-size").trim()),o.setProperty("--font-weight",n.getPropertyValue("--vscode-font-weight").trim()),o.setProperty("--editor-font-family",n.getPropertyValue("--vscode-editor-font-family").trim()),o.setProperty("--editor-font-size",n.getPropertyValue("--vscode-editor-font-size").trim()),o.setProperty("--editor-font-weight",n.getPropertyValue("--vscode-editor-font-weight").trim());const s=n.getPropertyValue("--vscode-editor-background").trim();let a=n.getPropertyValue("--vscode-editor-foreground").trim();a||(a=n.getPropertyValue("--vscode-foreground").trim());let l=s;o.setProperty("--color-background",l),o.setProperty("--color-background--lighten-05",nt(l,5)),o.setProperty("--color-background--darken-05",et(l,5)),o.setProperty("--color-background--lighten-075",nt(l,7.5)),o.setProperty("--color-background--darken-075",et(l,7.5)),o.setProperty("--color-background--lighten-10",nt(l,10)),o.setProperty("--color-background--darken-10",et(l,10)),o.setProperty("--color-background--lighten-15",nt(l,15)),o.setProperty("--color-background--darken-15",et(l,15)),o.setProperty("--color-background--lighten-30",nt(l,30)),o.setProperty("--color-background--darken-30",et(l,30)),o.setProperty("--color-background--lighten-50",nt(l,50)),o.setProperty("--color-background--darken-50",et(l,50)),l=n.getPropertyValue("--vscode-button-background").trim(),o.setProperty("--color-button-background",l),o.setProperty("--color-button-background--darken-30",et(l,30)),o.setProperty("--color-highlight",l),o.setProperty("--color-highlight--75",it(l,75)),o.setProperty("--color-highlight--50",it(l,50)),o.setProperty("--color-highlight--25",it(l,25)),l=n.getPropertyValue("--vscode-button-secondaryBackground").trim(),o.setProperty("--color-button-secondary-background",l),o.setProperty("--color-button-secondary-background--darken-30",et(l,30)),l=n.getPropertyValue("--vscode-button-foreground").trim(),o.setProperty("--color-button-foreground",l),o.setProperty("--color-foreground",a),o.setProperty("--color-foreground--85",it(a,85)),o.setProperty("--color-foreground--75",it(a,75)),o.setProperty("--color-foreground--65",it(a,65)),o.setProperty("--color-foreground--50",it(a,50)),l=n.getPropertyValue("--vscode-focusBorder").trim(),o.setProperty("--color-focus-border",l),l=n.getPropertyValue("--vscode-textLink-foreground").trim(),o.setProperty("--color-link-foreground",l),o.setProperty("--color-link-foreground--darken-20",et(l,20)),o.setProperty("--color-link-foreground--lighten-20",nt(l,20)),l=n.getPropertyValue("--vscode-sideBar-background").trim(),o.setProperty("--color-view-background",l||s),l=n.getPropertyValue("--vscode-sideBar-foreground").trim(),o.setProperty("--color-view-foreground",l||a),o.setProperty("--color-view-header-foreground",n.getPropertyValue("--vscode-sideBarSectionHeader-foreground").trim()||l||a),l=n.getPropertyValue("--vscode-editorHoverWidget-background").trim(),o.setProperty("--color-hover-background",l),l=n.getPropertyValue("--vscode-editorHoverWidget-border").trim(),o.setProperty("--color-hover-border",l),l=n.getPropertyValue("--vscode-editorHoverWidget-foreground").trim(),o.setProperty("--color-hover-foreground",l),l=n.getPropertyValue("--vscode-editorHoverWidget-statusBarBackground").trim(),o.setProperty("--color-hover-statusBarBackground",l),l=n.getPropertyValue("--vscode-inputValidation-infoBackground").trim(),o.setProperty("--color-alert-infoHoverBackground",i?et(l,5):nt(l,5)),o.setProperty("--color-alert-infoBackground",l),l=n.getPropertyValue("--vscode-inputValidation-warningBackground").trim(),o.setProperty("--color-alert-warningHoverBackground",i?et(l,5):nt(l,5)),o.setProperty("--color-alert-warningBackground",l),l=n.getPropertyValue("--vscode-inputValidation-errorBackground").trim(),o.setProperty("--color-alert-errorHoverBackground",i?et(l,5):nt(l,5)),o.setProperty("--color-alert-errorBackground",l),l=i?et(s,5):nt(s,5),o.setProperty("--color-alert-neutralHoverBackground",i?et(l,5):nt(l,5)),o.setProperty("--color-alert-neutralBackground",l),o.setProperty("--color-alert-infoBorder","var(--vscode-inputValidation-infoBorder)"),o.setProperty("--color-alert-warningBorder","var(--vscode-inputValidation-warningBorder)"),o.setProperty("--color-alert-errorBorder","var(--vscode-inputValidation-errorBorder)"),o.setProperty("--color-alert-neutralBorder","var(--vscode-input-foreground)"),o.setProperty("--color-alert-foreground","var(--vscode-input-foreground)"),$t.fire({colors:{background:s,foreground:a},computedStyle:n,isLightTheme:i,isHighContrastTheme:r,isInitializing:null==t})};t();const e=new MutationObserver(t);return e.observe(document.body,{attributeFilter:["class"]}),{dispose:()=>e.disconnect()}}()),requestAnimationFrame((()=>{this.log("ctor(): initializing...");try{this.onInitialize?.(),this.bind(),null!=this.onMessageReceived&&e.push(Q.on(window,"message",this.onMessageReceived.bind(this))),this.sendCommand(s,void 0),this.onInitialized?.()}finally{document.body.classList.contains("preload")&&setTimeout((()=>{document.body.classList.remove("preload")}),500)}})),e.push(Q.on(window,"pagehide",(()=>{e?.forEach((t=>t.dispose())),this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=void 0})))}bind(){this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=this.onBind?.(),null==this.bindDisposables&&(this.bindDisposables=[]);const t=function(t,e,n){const{track:i,...r}={track:!1,...n??{}};if(!0!==i)return W(t,e,r);let o=!1;const s=W((function(...e){return o=!1,t.apply(this,e)}),e,n),a=function(...t){return o=!0,s.apply(this,t)};return a.pending=function(){return o},a.cancel=function(){return s.cancel.apply(s)},a.flush=function(){return s.flush.apply(s)},a}((t=>{this.sendCommand(a,t)}),150);this.bindDisposables.push(Q.on(document,"focusin",(e=>{const n=e.composedPath().some((t=>"INPUT"===t.tagName));!0===this._focused&&this._inputFocused===n||(this._focused=!0,this._inputFocused=n,t({focused:!0,inputFocused:n}))})),Q.on(document,"focusout",(()=>{!1===this._focused&&!1===this._inputFocused||(this._focused=!1,this._inputFocused=!1,t({focused:!1,inputFocused:!1}))})))}log(t,...e){J.log(t,...e)}getState(){return this._api.getState()}sendCommand(t,e){const n=Lt();this.log(`sendCommand(${n}): name=${t.method}`),this.postMessage({id:n,method:t.method,params:e})}async sendCommandWithCompletion(t,e,n){const i=Lt();this.log(`sendCommandWithCompletion(${i}): name=${t.method}`);const r=new Promise(((t,e)=>{let r;const s=[Q.on(window,"message",(e=>{o(n,e.data,(n=>{e.data.completionId===i&&(s.forEach((t=>t.dispose())),queueMicrotask((()=>t(n))))}))})),{dispose:function(){null!=r&&(clearTimeout(r),r=void 0)}}];r=setTimeout((()=>{r=void 0,s.forEach((t=>t.dispose())),e(new Error(`Timed out waiting for completion of ${n.method}`))}),6e4)}));return this.postMessage({id:i,method:t.method,params:e,completionId:i}),r}setState(t){this.state=t,null!=t&&this._api.setState(t)}postMessage(t){this._api.postMessage(t)}}const Mt=/(?<literal>\[.*?\])|(?<year>YYYY|YY)|(?<month>M{1,4})|(?<day>Do|DD?)|(?<weekday>d{2,4})|(?<hour>HH?|hh?)|(?<minute>mm?)|(?<second>ss?)|(?<fractionalSecond>SSS)|(?<dayPeriod>A|a)|(?<timeZoneName>ZZ?)/g,Tt=/(?<dateStyle>full|long|medium|short)(?:\+(?<timeStyle>full|long|medium|short))?/;let Bt;const Vt=new Map;let It,Ot,Et;const qt=new Map;function jt(t,e,n,i=!0){const r=`${n??""}:${e=e??void 0}`;let o=Vt.get(r);if(null==o){const t=function(t){if(null==t)return{localeMatcher:"best fit",dateStyle:"full",timeStyle:"short"};const e=Tt.exec(t);if(null!=e?.groups){const{dateStyle:t,timeStyle:n}=e.groups;return{localeMatcher:"best fit",dateStyle:t||"full",timeStyle:n||void 0}}const n={localeMatcher:"best fit"};for(const{groups:e}of t.matchAll(Mt))if(null!=e)for(const t in e){const i=e[t];if(null!=i)switch(t){case"year":n.year=4===i.length?"numeric":"2-digit";break;case"month":switch(i.length){case 4:n.month="long";break;case 3:n.month="short";break;case 2:n.month="2-digit";break;case 1:n.month="numeric"}break;case"day":n.day="DD"===i?"2-digit":"numeric";break;case"weekday":switch(i.length){case 4:n.weekday="long";break;case 3:n.weekday="short";break;case 2:n.weekday="narrow"}break;case"hour":n.hour=2===i.length?"2-digit":"numeric",n.hour12="hh"===i||"h"===i;break;case"minute":n.minute=2===i.length?"2-digit":"numeric";break;case"second":n.second=2===i.length?"2-digit":"numeric";break;case"fractionalSecond":n.fractionalSecondDigits=3;break;case"dayPeriod":n.dayPeriod="narrow",n.hour12=!0,n.hourCycle="h12";break;case"timeZoneName":n.timeZoneName=2===i.length?"long":"short"}}return n}(e);let s;s=null==n?It:"system"===n?void 0:[n],o=new Intl.DateTimeFormat(s,t),i&&Vt.set(r,o)}if(null==e||Tt.test(e))return o.format(t);function s(t){const e=`${n??""}:time:${t}`;let r=Vt.get(e);if(null==r){const o={localeMatcher:"best fit",timeStyle:t};let s;s=null==n?It:"system"===n?void 0:[n],r=new Intl.DateTimeFormat(s,o),i&&Vt.set(e,r)}return r}const a=o.formatToParts(t);return e.replace(Mt,((e,n,i,r,o,l,c,u,d,h,g,p,f,m,b)=>{if(null!=n)return n.substring(1,n.length-1);for(const e in b){const n=b[e];if(null==n)continue;const i=a.find((t=>t.type===e));if("Do"===n&&"day"===i?.type)return Ut(Number(i.value));if("a"===n&&"dayPeriod"===i?.type){const e=s("short").formatToParts(t).find((t=>"dayPeriod"===t.type));return` ${(e??i)?.value??""}`}return i?.value??""}return""}))}const Rt=["th","st","nd","rd"];function Ut(t){const e=t%100;return`${t}${Rt[(e-20)%10]??Rt[e]??Rt[0]}`}const Ft=(new Date).getTimezoneOffset()/60*100,Ht=new Date(`Wed Jul 25 2018 19:18:00 GMT${Ft>=0?"-":"+"}${String(Math.abs(Ft)).padStart(4,"0")}`);class zt extends At{constructor(){super(...arguments),this._changes=Object.create(null),this._updating=!1}onInitialized(){this.updateState()}onBind(){const t=super.onBind?.()??[];return t.push(Q.on("input[type=checkbox][data-setting]","change",((t,e)=>this.onInputChecked(e))),Q.on("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]","blur",((t,e)=>this.onInputBlurred(e))),Q.on("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]","focus",((t,e)=>this.onInputFocused(e))),Q.on("input[type=text][data-setting][data-setting-preview], input[type=number][data-setting][data-setting-preview]","input",((t,e)=>this.onInputChanged(e))),Q.on("button[data-setting-clear]","click",((t,e)=>this.onButtonClicked(e))),Q.on("select[data-setting]","change",((t,e)=>this.onInputSelected(e))),Q.on(".token[data-token]","mousedown",((t,e)=>this.onTokenMouseDown(e,t)))),t}onMessageReceived(t){const e=t.data;switch(this.log(`onMessageReceived(${e.id}): name=${e.method}`),e.method){case h.method:o(h,e,(t=>{this.scrollToAnchor(t.anchor,t.scrollBehavior)}));break;case u.method:o(u,e,(t=>{this.state.config=t.config,this.state.customSettings=t.customSettings,this.updateState()}));break;default:super.onMessageReceived?.(t)}}applyChanges(){this.sendCommand(c,{changes:{...this._changes},removes:Object.keys(this._changes).filter((t=>void 0===this._changes[t])),scope:this.getSettingsScope()}),this._changes=Object.create(null)}getSettingsScope(){return"user"}onInputBlurred(t){this.log(`onInputBlurred(${t.name}): value=${t.value})`);const e=document.getElementById(`${t.name}.popup`);null!=e&&e.classList.add("hidden");let n=t.value;if(null!=n&&0!==n.length||(n=t.dataset.defaultValue,void 0===n&&(n=null)),"arrayObject"===t.dataset.settingType){const e=t.name.split("."),i=e[0],r=parseInt(e[1],10),o=e.slice(2);let s=this.getSettingValue(i);if(null!=n||void 0!==s&&0!==s?.length){s=s??[];let e=s[r];(null!=n||null==n&&void 0!==e)&&(void 0===e&&(e=Object.create(null),s[r]=e),Wt(e,o.join("."),"number"===t.type&&null!=n?Number(n):n),this._changes[i]=s)}else void 0!==s&&(this._changes[i]=void 0)}else this._changes[t.name]="number"===t.type&&null!=n?Number(n):n;this.applyChanges()}onButtonClicked(t){if("arrayObject"===t.dataset.settingType){const e=t.name.split("."),n=e[0],i=this.getSettingValue(n);if(void 0===i)return;const r=parseInt(e[1],10);if(null==i[r])return;i.splice(r,1),this._changes[n]=i.length?i:void 0,this.applyChanges()}}onInputChanged(t){if(!this._updating)for(const e of document.querySelectorAll(`span[data-setting-preview="${t.name}"]`))this.updatePreview(e,t.value)}onInputChecked(t){if(!this._updating){switch(this.log(`onInputChecked(${t.name}): checked=${t.checked}, value=${t.value})`),t.dataset.settingType){case"object":{const e=t.name.split("."),n=e.splice(0,1)[0],i=this.getSettingValue(n)??Object.create(null);t.checked?Wt(i,e.join("."),Jt(t.value)):Wt(i,e.join("."),!1),this._changes[n]=i;break}case"array":{const e=this.getSettingValue(t.name)??[];if(Array.isArray(e)){if(t.checked)e.includes(t.value)||e.push(t.value);else{const n=e.indexOf(t.value);-1!==n&&e.splice(n,1)}this._changes[t.name]=e}break}case"arrayObject":{const e=t.name.split("."),n=e[0],i=parseInt(e[1],10),r=e.slice(2),o=this.getSettingValue(n)??[],s=o[i]??Object.create(null);void 0===o[i]&&(o[i]=s),t.checked?Wt(o[i],r.join("."),Jt(t.value)):Wt(o[i],r.join("."),!1),this._changes[n]=o;break}case"custom":this._changes[t.name]=t.checked;break;default:t.checked?this._changes[t.name]=Jt(t.value):this._changes[t.name]=null!=t.dataset.valueOff&&t.dataset.valueOff}this.setAdditionalSettings(t.checked?t.dataset.addSettingsOn:t.dataset.addSettingsOff),this.applyChanges()}}onInputFocused(t){this.log(`onInputFocused(${t.name}): value=${t.value}`);const e=document.getElementById(`${t.name}.popup`);if(null!=e){if(0===e.childElementCount){const t=document.querySelector("#token-popup")?.content.cloneNode(!0);null!=t&&e.appendChild(t)}e.classList.remove("hidden")}}onInputSelected(t){if(this._updating)return;const e=t.options[t.selectedIndex].value;this.log(`onInputSelected(${t.name}): value=${e}`),this._changes[t.name]=Nt(e),this.applyChanges()}onTokenMouseDown(t,e){if(this._updating)return;this.log(`onTokenMouseDown(${t.id})`);const n=t.closest(".setting");if(null==n)return;const i=n.querySelector("input[type=text], input:not([type])");if(null==i)return;const r=`\${${t.dataset.token}}`;let o=i.selectionStart;null!=o?(i.value=`${i.value.substring(0,o)}${r}${i.value.substr(i.selectionEnd??o)}`,o+=r.length):o=i.value.length,i.focus(),i.setSelectionRange(o,o),o===i.value.length&&(i.scrollLeft=i.scrollWidth),setTimeout((()=>this.onInputChanged(i)),0),setTimeout((()=>i.focus()),250),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()}scrollToAnchor(t,e,n){const i=document.getElementById(t);null!=i&&this.scrollTo(i,e,n)}scrollTo(t,e,n){const i=t.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(n??0);window.scrollTo({top:i,behavior:e??"smooth"});const r=()=>{null!=this._scrollTimer&&clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout((()=>{window.removeEventListener("scroll",r);const o=t.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(n??0);i!==o&&this.scrollTo(t,e,n)}),50)};window.addEventListener("scroll",r,!1)}evaluateStateExpression(t,e){let n=!1;for(const i of t.trim().split("&")){const[t,r,o]=Yt(i);switch(r){case"=":{let i=e[t];void 0===i&&(i=this.getSettingValue(t)??!1),n=void 0!==o?o===String(i):Boolean(i);break}case"!":{let i=e[t];void 0===i&&(i=this.getSettingValue(t)??!1),n=void 0!==o?o!==String(i):!i;break}case"+":if(void 0!==o){const e=this.getSettingValue(t);n=void 0!==e&&e.includes(o.toString())}}if(!n)break}return n}getCustomSettingValue(t){return this.state.customSettings?.[t]}getSettingValue(t){const e=this.getCustomSettingValue(t);return null!=e?e:function(t,e){return e.split(".").reduce(((t={},e)=>null==t?void 0:t[e]),t)}(this.state.config,t)}updateState(){var t;this.beforeUpdateState?.(),this._updating=!0,t=this.state.config.defaultDateLocale,It="string"==typeof t?"system"===t?void 0:[t]:t??void 0,Ot=void 0,Et=void 0,Vt.clear(),qt.clear(),Bt=void 0;try{for(const t of document.querySelectorAll("input[type=checkbox][data-setting]"))if("custom"===t.dataset.settingType)t.checked=this.getCustomSettingValue(t.name)??!1;else if("array"===t.dataset.settingType)t.checked=(this.getSettingValue(t.name)??[]).includes(t.value);else if(null!=t.dataset.valueOff){const e=this.getSettingValue(t.name);t.checked=t.dataset.valueOff!==e}else t.checked=this.getSettingValue(t.name)??!1;for(const t of document.querySelectorAll("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]"))t.value=this.getSettingValue(t.name)??"";for(const t of document.querySelectorAll("select[data-setting]")){const e=this.getSettingValue(t.name),n=t.querySelector(`option[value='${e}']`);null!=n&&(n.selected=!0)}for(const t of document.querySelectorAll("span[data-setting-preview]"))this.updatePreview(t)}finally{this._updating=!1}const e=Gt(this.state.config);if(null!=this.state.customSettings)for(const[t,n]of Object.entries(this.state.customSettings))e[t]=n;this.setVisibility(e),this.setEnablement(e)}setAdditionalSettings(t){if(!t)return;const e=function(t){const e=t.trim().split(",");return e.map((t=>{const[e,n]=t.split("=");return[e,Nt(n)]}))}(t);for(const[t,n]of e)this._changes[t]=n}setEnablement(t){for(const e of document.querySelectorAll("[data-enablement]")){const n=!this.evaluateStateExpression(e.dataset.enablement,t);if(n?e.setAttribute("disabled",""):e.removeAttribute("disabled"),e.matches("input,select"))e.disabled=n;else{const t=e.querySelector("input,select");if(null==t)continue;t.disabled=n}}}setVisibility(t){for(const e of document.querySelectorAll("[data-visibility]"))e.classList.toggle("hidden",!this.evaluateStateExpression(e.dataset.visibility,t))}updatePreview(t,e){const n=t.dataset.settingPreviewType;switch(n){case"date":if(void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),!e&&null==(e=t.dataset.settingPreviewDefault)){const n=t.dataset.settingPreviewDefaultLookup;null!=n&&(e=this.getSettingValue(n))}t.innerText=null==e?"":jt(Ht,e,void 0,!1);break;case"date-locale":{void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),e||(e=void 0);const n=this.getSettingValue(t.dataset.settingPreviewDefault)??"MMMM Do, YYYY h:mma";try{t.innerText=jt(Ht,n,e,!1)}catch(e){t.innerText=e.message}break}case"commit":case"commit-uncommitted":if(void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),!e&&null==(e=t.dataset.settingPreviewDefault)){const n=t.dataset.settingPreviewDefaultLookup;null!=n&&(e=this.getSettingValue(n))}if(null==e)return void(t.innerText="");this.sendCommandWithCompletion(l,{key:t.dataset.settingPreview,type:n,format:e},d).then((e=>{t.innerText=e.preview??""}))}}}function Nt(t){return"true"===t||"false"!==t&&("null"===t?null:t)}function Wt(t,e,n){const i=e.split("."),r=i.length,o=r-1;let s=-1,a=t;for(;null!=a&&++s<r;){const t=i[s];let e=n;if(s!==o){const n=a[t];e="object"==typeof n?n:{}}a[t]=e,a=a[t]}return t}function Yt(t){const[e,n,i]=t.trim().split(/([=+!])/);return[e.trim(),void 0!==n?n.trim():"=",void 0!==i?i.trim():i]}function Gt(t,e){const n={};for(const i in t){const r=t[i];Array.isArray(r)||("object"==typeof r?Object.assign(n,Gt(r,void 0===e?i:`${e}.${i}`)):n[void 0===e?i:`${e}.${i}`]=r)}return n}function Jt(t){switch(t){case"on":return!0;case"null":return null;case"undefined":return;default:return t}}class Zt extends zt{constructor(){super("SettingsApp"),this._scopes=null,this._activeSection="general",this._sections=new Map}onInitialize(){const t=document.getElementById("scopes");if(null!=t&&this.state.scopes.length>1){for(const[e,n]of this.state.scopes){const i=document.createElement("option");i.value=e,i.innerHTML=n,this.state.scope===e&&(i.selected=!0),t.appendChild(i)}t.parentElement.parentElement.classList.remove("hidden"),this._scopes=t}let e=83;const n=document.querySelector(".hero__area--sticky");null!=n&&(e=n.clientHeight),this._observer=new IntersectionObserver(this.onObserver.bind(this),{rootMargin:`-${e}px 0px 0px 0px`});for(const t of document.querySelectorAll("section[id]>.section__header"))this._sections.set(t.parentElement.id,!1),this._observer.observe(t);for(const t of document.querySelectorAll("[data-setting]")){t.title||"checkbox"!==t.type||(t.title=`Setting name: "gitlens.${t.name}"`);for(const e of document.querySelectorAll(`label[for="${t.id}"]`))e.title||(e.title=`Setting name: "gitlens.${t.name}"`)}}beforeUpdateState(){const t=document.activeElement?.id;this.renderAutolinks(),t?.startsWith("autolinks.")&&queueMicrotask((()=>{document.getElementById(t)?.focus()}))}onBind(){const t=super.onBind?.()??[];return t.push(Q.on(".section--collapsible>.section__header","click",((t,e)=>this.onSectionHeaderClicked(e,t))),Q.on(".setting--expandable .setting__expander","click",((t,e)=>this.onSettingExpanderCicked(e,t))),Q.on('a[data-action="jump"]',"mousedown",(t=>{t.stopPropagation(),t.preventDefault()})),Q.on('a[data-action="jump"]',"click",((t,e)=>this.onJumpToLinkClicked(e,t))),Q.on("[data-action]","mousedown",(t=>{t.stopPropagation(),t.preventDefault()})),Q.on("[data-action]","click",((t,e)=>this.onActionLinkClicked(e,t)))),t}scrollToAnchor(t,e){let n=83;const i=document.querySelector(".hero__area--sticky");null!=i&&(n=i.clientHeight),super.scrollToAnchor(t,e,n)}onObserver(t,e){for(const e of t)this._sections.set(e.target.parentElement.id,e.isIntersecting);let n;for(const[t,e]of this._sections.entries())if(e){n=t;break}if(void 0===n){if(1!==t.length)return;const e=t[0];if(null==e.boundingClientRect||null==e.rootBounds)return;if(n=e.target.parentElement.id,e.boundingClientRect.top>=e.rootBounds.bottom){const t=[...this._sections.keys()],e=t.indexOf(n);if(e<=0)return;n=t[e-1]}}this._activeSection!==n&&(void 0!==this._activeSection&&this.toggleJumpLink(this._activeSection,!1),this._activeSection=n,this.toggleJumpLink(this._activeSection,!0))}getSettingsScope(){return null!=this._scopes?this._scopes.options[this._scopes.selectedIndex].value:"user"}onActionLinkClicked(t,e){switch(t.dataset.action){case"collapse":for(const t of document.querySelectorAll(".section--collapsible"))t.classList.add("collapsed");document.querySelector('[data-action="collapse"]').classList.add("hidden"),document.querySelector('[data-action="expand"]').classList.remove("hidden");break;case"expand":for(const t of document.querySelectorAll(".section--collapsible"))t.classList.remove("collapsed");document.querySelector('[data-action="collapse"]').classList.remove("hidden"),document.querySelector('[data-action="expand"]').classList.add("hidden");break;case"show":if(t.dataset.actionTarget)for(const e of document.querySelectorAll(`[data-region="${t.dataset.actionTarget}"]`))e.classList.remove("hidden"),e.querySelector("input,select,textarea,button")?.focus();break;case"hide":if(t.dataset.actionTarget)for(const e of document.querySelectorAll(`[data-region="${t.dataset.actionTarget}"]`))e.classList.add("hidden")}e.preventDefault(),e.stopPropagation()}onInputSelected(t){t!==this._scopes&&super.onInputSelected(t)}onJumpToLinkClicked(t,e){const n=t.getAttribute("href");if(null==n)return;const i=n.substr(1);this.scrollToAnchor(i,"smooth"),e.stopPropagation(),e.preventDefault()}onSectionHeaderClicked(t,e){e.target.matches("a, input, label, i.icon__info")||t.parentElement.classList.toggle("collapsed")}onSettingExpanderCicked(t,e){t.parentElement.parentElement.classList.toggle("expanded")}toggleJumpLink(t,e){const n=document.querySelector(`a.sidebar__jump-link[href="#${t}"]`);null!=n&&n.classList.toggle("active",e)}renderAutolinks(){const t=document.querySelector('[data-component="autolinks"]');if(null==t)return;const e=(t,e,n=!1,i=!0)=>`\n\t\t\t<div class="setting${n?' hidden" data-region="autolink':""}">\n\t\t\t\t<div class="setting__group">\n\t\t\t\t\t<div class="setting__input setting__input--short setting__input--with-actions">\n\t\t\t\t\t\t<label for="autolinks.${t}.prefix">Prefix</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="autolinks.${t}.prefix"\n\t\t\t\t\t\t\tname="autolinks.${t}.prefix"\n\t\t\t\t\t\t\tplaceholder="TICKET-"\n\t\t\t\t\t\t\tdata-setting\n\t\t\t\t\t\t\tdata-setting-type="arrayObject"\n\t\t\t\t\t\t\t${e?.prefix?`value="${encodeURIComponent(e.prefix)}"`:""}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div class="setting__input-actions">\n\t\t\t\t\t\t\t<div class="toggle-button">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid="autolinks.${t}.ignoreCase"\n\t\t\t\t\t\t\t\t\tname="autolinks.${t}.ignoreCase"\n\t\t\t\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t\t\t\tclass="toggle-button__control"\n\t\t\t\t\t\t\t\t\tdata-setting\n\t\t\t\t\t\t\t\t\tdata-setting-type="arrayObject"\n\t\t\t\t\t\t\t\t\t${e?.ignoreCase?"checked":""}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<label class="toggle-button__label" for="autolinks.${t}.ignoreCase" title="Case-sensitive" aria-label="Case-sensitive">Aa</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="toggle-button">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid="autolinks.${t}.alphanumeric"\n\t\t\t\t\t\t\t\t\tname="autolinks.${t}.alphanumeric"\n\t\t\t\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t\t\t\tclass="toggle-button__control"\n\t\t\t\t\t\t\t\t\tdata-setting\n\t\t\t\t\t\t\t\t\tdata-setting-type="arrayObject"\n\t\t\t\t\t\t\t\t\t${e?.alphanumeric?"checked":""}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<label class="toggle-button__label" for="autolinks.${t}.alphanumeric" title="Alphanumeric" aria-label="Alphanumeric">a1</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="setting__input setting__input--long setting__input--centered">\n\t\t\t\t\t\t<label for="autolinks.${t}.url">URL</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid="autolinks.${t}.url"\n\t\t\t\t\t\t\tname="autolinks.${t}.url"\n\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\tplaceholder="https://example.com/TICKET?q=&lt;num&gt;"\n\t\t\t\t\t\t\tdata-setting\n\t\t\t\t\t\t\tdata-setting-type="arrayObject"\n\t\t\t\t\t\t\t${e?.url?`value="${encodeURIComponent(e.url)}"`:""}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t${n?'\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass="button button--compact button--flat-subtle"\n\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\tdata-action="hide"\n\t\t\t\t\t\t\t\tdata-action-target="autolink"\n\t\t\t\t\t\t\t\ttitle="Delete"\n\t\t\t\t\t\t\t\taria-label="Delete"\n\t\t\t\t\t\t\t><i class="codicon codicon-close"></i></button>\n\t\t\t\t\t\t':`\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tid="autolinks.${t}.delete"\n\t\t\t\t\t\t\t\tname="autolinks.${t}.delete"\n\t\t\t\t\t\t\t\tclass="button button--compact button--flat-subtle"\n\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\tdata-setting-type="arrayObject"\n\t\t\t\t\t\t\t\tdata-setting-clear\n\t\t\t\t\t\t\t\ttitle="Delete"\n\t\t\t\t\t\t\t\taria-label="Delete"\n\t\t\t\t\t\t\t><i class="codicon codicon-close"></i></button>\n\t\t\t\t\t\t`}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t${i&&n?'\n\t\t\t<div class="setting__hint">\n\t\t\t\t<span style="line-height: 2rem">\n\t\t\t\t\t<i class="icon icon--sm icon__info"></i> Matches prefixes that are followed by a reference value within commit messages.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The URL must contain a <code>&lt;num&gt;</code> for the reference value to be included in the link.\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t':""}\n\t\t\t</div>\n\t\t`,n=[],i=(this.state.config.autolinks?.length||0)>0;i&&this.state.config.autolinks?.forEach(((t,i)=>n.push(e(i,t)))),n.push(e(this.state.config.autolinks?.length??0,void 0,!0,!i)),i&&n.push('\n\t\t\t<div class="setting__hint">\n\t\t\t\t<span style="line-height: 2rem">\n\t\t\t\t\t<i class="icon icon--sm icon__info"></i> Matches prefixes that are followed by a reference value within commit messages.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The URL must contain a <code>&lt;num&gt;</code> for the reference value to be included in the link.\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t'),t.innerHTML=n.join("")}}new Zt;var Qt=e.P;export{Qt as SettingsApp};